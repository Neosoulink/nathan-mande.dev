<template>
  <div class="absolute w-screen h-screen overflow-hidden">
    <div class="relative w-full h-full">
      <div
        id="landing-view"
        class="absolute w-screen h-screen flex flex-col items-center justify-center bg-dark text-light"
      >
        <svg
          width="788"
          height="65"
          viewBox="0 0 788 65"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          class="mb-5"
        >
          <g fill="transparent">
            <path
              d="M47.3398 60.9375H39.7227L11.168 16.9531V60.9375H3.58984V4.0625H11.168L39.8398 48.1641V4.0625H47.3398V60.9375Z"
            />
            <path
              d="M63.0039 60.9375H55.1914L76.9102 4.0625H81.9102L81.793 9.0625L63.0039 60.9375ZM78.668 9.0625L78.5898 4.0625H83.5508L105.309 60.9375H97.5352L78.668 9.0625ZM96.5977 46.0547H64.6055V39.9219H96.5977V46.0547Z"
            />
            <path
              d="M129.254 60.9375H121.754V4.0625H129.254V60.9375ZM147.496 10.1953H103.551V4.0625H147.496V10.1953Z"
            />
            <path
              d="M193.043 34.6094H162.34V28.5156H193.043V34.6094ZM163.512 60.9375H155.934V4.0625H163.512V60.9375ZM199.684 60.9375H192.105V4.0625H199.684V60.9375Z"
            />
            <path
              d="M216.051 60.9375H208.238L229.957 4.0625H234.957L234.84 9.0625L216.051 60.9375ZM231.715 9.0625L231.637 4.0625H236.598L258.355 60.9375H250.582L231.715 9.0625ZM249.645 46.0547H217.652V39.9219H249.645V46.0547Z"
            />
            <path
              d="M309.762 60.9375H302.145L273.59 16.9531V60.9375H266.012V4.0625H273.59L302.262 48.1641V4.0625H309.762V60.9375Z"
            />
            <path
              d="M352.73 4.0625L371.285 50.5469L389.84 4.0625H397.223L374.137 60.9375H368.395L345.348 4.0625H352.73ZM349.449 4.0625L350.504 38.7109V60.9375H342.965V4.0625H349.449ZM399.605 4.0625V60.9375H392.066V38.7109L393.121 4.0625H399.605Z"
            />
            <path
              d="M415.191 60.9375H407.379L429.098 4.0625H434.098L433.98 9.0625L415.191 60.9375ZM430.855 9.0625L430.777 4.0625H435.738L457.496 60.9375H449.723L430.855 9.0625ZM448.785 46.0547H416.793V39.9219H448.785V46.0547Z"
            />
            <path
              d="M508.902 60.9375H501.285L472.73 16.9531V60.9375H465.152V4.0625H472.73L501.402 48.1641V4.0625H508.902V60.9375Z"
            />
            <path
              d="M525.777 60.9375L525.855 54.8438H537.652C541.689 54.8438 545.061 53.9974 547.77 52.3047C550.478 50.5859 552.509 48.1901 553.863 45.1172C555.243 42.0182 555.934 38.3854 555.934 34.2188V30.7031C555.934 26.3542 555.243 22.6562 553.863 19.6094C552.509 16.5625 550.517 14.2318 547.887 12.6172C545.257 11.0026 542.066 10.1953 538.316 10.1953H525.543V4.0625H538.316C543.316 4.0625 547.691 5.15625 551.441 7.34375C555.217 9.50521 558.16 12.5911 560.27 16.6016C562.379 20.5859 563.434 25.3125 563.434 30.7812V34.2188C563.434 39.7135 562.379 44.4531 560.27 48.4375C558.16 52.4219 555.178 55.5078 551.324 57.6953C547.47 59.8568 542.913 60.9375 537.652 60.9375H525.777ZM529.84 60.9375H522.262V4.0625H529.84V60.9375Z"
            />
            <path
              d="M610.895 60.9375H580.855V54.8438H610.895V60.9375ZM582.34 60.9375H574.762V4.0625H582.34V60.9375ZM606.91 34.6094H580.855V28.5156H606.91V34.6094ZM610.504 10.1953H580.855V4.0625H610.504V10.1953Z"
            />
            <path
              d="M629.996 4.0625L648.551 50.5469L667.105 4.0625H674.488L651.402 60.9375H645.66L622.613 4.0625H629.996ZM626.715 4.0625L627.77 38.7109V60.9375H620.23V4.0625H626.715ZM676.871 4.0625V60.9375H669.332V38.7109L670.387 4.0625H676.871Z"
            />
            <path
              d="M725.23 4.0625H733.473L712.418 60.9375H706.559L708.512 52.3438L725.23 4.0625ZM709.488 52.3438L711.559 60.9375H705.699L684.684 4.0625H692.926L709.488 52.3438Z"
            />
            <path
              d="M784.41 34.3359C784.41 40.013 783.473 44.8958 781.598 48.9844C779.723 53.0729 777.079 56.224 773.668 58.4375C770.257 60.625 766.233 61.7188 761.598 61.7188C757.118 61.7188 753.147 60.625 749.684 58.4375C746.22 56.224 743.512 53.0729 741.559 48.9844C739.605 44.8958 738.629 40.013 738.629 34.3359V30.7031C738.629 25.026 739.592 20.1432 741.52 16.0547C743.473 11.9401 746.168 8.78906 749.605 6.60156C753.069 4.38802 757.04 3.28125 761.52 3.28125C766.155 3.28125 770.178 4.38802 773.59 6.60156C777.027 8.78906 779.684 11.9401 781.559 16.0547C783.46 20.1432 784.41 25.026 784.41 30.7031V34.3359ZM776.91 30.625C776.91 26.0938 776.298 22.2786 775.074 19.1797C773.85 16.0547 772.092 13.6849 769.801 12.0703C767.509 10.4557 764.749 9.64844 761.52 9.64844C758.421 9.64844 755.712 10.4557 753.395 12.0703C751.103 13.6849 749.319 16.0547 748.043 19.1797C746.793 22.2786 746.168 26.0938 746.168 30.625V34.3359C746.168 38.8932 746.806 42.7344 748.082 45.8594C749.358 48.9844 751.155 51.3542 753.473 52.9688C755.79 54.5833 758.499 55.3906 761.598 55.3906C764.853 55.3906 767.613 54.5833 769.879 52.9688C772.171 51.3542 773.915 48.9844 775.113 45.8594C776.311 42.7344 776.91 38.8932 776.91 34.3359V30.625Z"
            />
          </g>

          <path
            d="M47.3398 60.9375H39.7227L11.168 16.9531V60.9375H3.58984V4.0625H11.168L39.8398 48.1641V4.0625H47.3398V60.9375Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M63.0039 60.9375H55.1914L76.9102 4.0625H81.9102L81.793 9.0625L63.0039 60.9375ZM78.668 9.0625L78.5898 4.0625H83.5508L105.309 60.9375H97.5352L78.668 9.0625ZM96.5977 46.0547H64.6055V39.9219H96.5977V46.0547Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M129.254 60.9375H121.754V4.0625H129.254V60.9375ZM147.496 10.1953H103.551V4.0625H147.496V10.1953Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M193.043 34.6094H162.34V28.5156H193.043V34.6094ZM163.512 60.9375H155.934V4.0625H163.512V60.9375ZM199.684 60.9375H192.105V4.0625H199.684V60.9375Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M216.051 60.9375H208.238L229.957 4.0625H234.957L234.84 9.0625L216.051 60.9375ZM231.715 9.0625L231.637 4.0625H236.598L258.355 60.9375H250.582L231.715 9.0625ZM249.645 46.0547H217.652V39.9219H249.645V46.0547Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M309.762 60.9375H302.145L273.59 16.9531V60.9375H266.012V4.0625H273.59L302.262 48.1641V4.0625H309.762V60.9375Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M352.73 4.0625L371.285 50.5469L389.84 4.0625H397.223L374.137 60.9375H368.395L345.348 4.0625H352.73ZM349.449 4.0625L350.504 38.7109V60.9375H342.965V4.0625H349.449ZM399.605 4.0625V60.9375H392.066V38.7109L393.121 4.0625H399.605Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M415.191 60.9375H407.379L429.098 4.0625H434.098L433.98 9.0625L415.191 60.9375ZM430.855 9.0625L430.777 4.0625H435.738L457.496 60.9375H449.723L430.855 9.0625ZM448.785 46.0547H416.793V39.9219H448.785V46.0547Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M508.902 60.9375H501.285L472.73 16.9531V60.9375H465.152V4.0625H472.73L501.402 48.1641V4.0625H508.902V60.9375Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M525.777 60.9375L525.855 54.8438H537.652C541.689 54.8438 545.061 53.9974 547.77 52.3047C550.478 50.5859 552.509 48.1901 553.863 45.1172C555.243 42.0182 555.934 38.3854 555.934 34.2188V30.7031C555.934 26.3542 555.243 22.6562 553.863 19.6094C552.509 16.5625 550.517 14.2318 547.887 12.6172C545.257 11.0026 542.066 10.1953 538.316 10.1953H525.543V4.0625H538.316C543.316 4.0625 547.691 5.15625 551.441 7.34375C555.217 9.50521 558.16 12.5911 560.27 16.6016C562.379 20.5859 563.434 25.3125 563.434 30.7812V34.2188C563.434 39.7135 562.379 44.4531 560.27 48.4375C558.16 52.4219 555.178 55.5078 551.324 57.6953C547.47 59.8568 542.913 60.9375 537.652 60.9375H525.777ZM529.84 60.9375H522.262V4.0625H529.84V60.9375Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M610.895 60.9375H580.855V54.8438H610.895V60.9375ZM582.34 60.9375H574.762V4.0625H582.34V60.9375ZM606.91 34.6094H580.855V28.5156H606.91V34.6094ZM610.504 10.1953H580.855V4.0625H610.504V10.1953Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M629.996 4.0625L648.551 50.5469L667.105 4.0625H674.488L651.402 60.9375H645.66L622.613 4.0625H629.996ZM626.715 4.0625L627.77 38.7109V60.9375H620.23V4.0625H626.715ZM676.871 4.0625V60.9375H669.332V38.7109L670.387 4.0625H676.871Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M725.23 4.0625H733.473L712.418 60.9375H706.559L708.512 52.3438L725.23 4.0625ZM709.488 52.3438L711.559 60.9375H705.699L684.684 4.0625H692.926L709.488 52.3438Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
          <path
            d="M784.41 34.3359C784.41 40.013 783.473 44.8958 781.598 48.9844C779.723 53.0729 777.079 56.224 773.668 58.4375C770.257 60.625 766.233 61.7188 761.598 61.7188C757.118 61.7188 753.147 60.625 749.684 58.4375C746.22 56.224 743.512 53.0729 741.559 48.9844C739.605 44.8958 738.629 40.013 738.629 34.3359V30.7031C738.629 25.026 739.592 20.1432 741.52 16.0547C743.473 11.9401 746.168 8.78906 749.605 6.60156C753.069 4.38802 757.04 3.28125 761.52 3.28125C766.155 3.28125 770.178 4.38802 773.59 6.60156C777.027 8.78906 779.684 11.9401 781.559 16.0547C783.46 20.1432 784.41 25.026 784.41 30.7031V34.3359ZM776.91 30.625C776.91 26.0938 776.298 22.2786 775.074 19.1797C773.85 16.0547 772.092 13.6849 769.801 12.0703C767.509 10.4557 764.749 9.64844 761.52 9.64844C758.421 9.64844 755.712 10.4557 753.395 12.0703C751.103 13.6849 749.319 16.0547 748.043 19.1797C746.793 22.2786 746.168 26.0938 746.168 30.625V34.3359C746.168 38.8932 746.806 42.7344 748.082 45.8594C749.358 48.9844 751.155 51.3542 753.473 52.9688C755.79 54.5833 758.499 55.3906 761.598 55.3906C764.853 55.3906 767.613 54.5833 769.879 52.9688C772.171 51.3542 773.915 48.9844 775.113 45.8594C776.311 42.7344 776.91 38.8932 776.91 34.3359V30.625Z"
            stroke="#F4F7F5"
            stroke-width="4"
            mask="url(#path-1-outside-1_89_108)"
          />
        </svg>

        <div class="hide overflow-hidden">
          <span class="opacity-60 inline-block overflow-hidden"
            >Welcome to my website</span
          >
        </div>
      </div>

      <div
        class="landing-view-slider w-screen h-screen bg-gray-400 absolute translate-y-full"
      />
    </div>
  </div>
</template>

<script lang="ts">
import { gsap } from "gsap";
export default {
  name: "landing-view",
  mounted() {
    const tl = gsap.timeline({ defaults: { ease: "power1.out" } });
    const css: HTMLStyleElement = document.createElement("style");
    const textLogo: SVGElement = document.querySelector("#landing-view svg")!;
    const textLogoPaths: NodeListOf<SVGPathElement> = textLogo.querySelectorAll(
      "#landing-view > svg > path"
    )!;

    let cssText = "";
    let currentDelay = 0.0;
    let timingTextLogoDelay = 0.2;

    tl.to("#landing-view > svg", { opacity: "1" });
    textLogoPaths.forEach((path, key) => {
      const totalLength = path.getTotalLength();

      cssText += `#landing-view > svg > path:nth-child(${key + 2}) {
					stroke-dasharray: ${Math.round(totalLength)};
					stroke-dashoffset: ${Math.round(totalLength)};
					animation: line-anim 1.5s ease forwards ${currentDelay}s;
				}`;
      currentDelay += timingTextLogoDelay;
    });
    css.innerHTML += cssText;
    document.body.appendChild(css);
    tl.to("#landing-view > svg > g", {
      animation: `svg-fill 1s ease`,
      delay: currentDelay,
    });
    tl.to("#landing-view > svg > g", { fill: "var(--light)" });
    tl.to("#landing-view > .hide > span", {
      y: "0%",
      duration: 0.8,
    });
    tl.to(".landing-view-slider", { y: "-100%", delay: 1, duration: 1.5 });
    tl.to("#landing-view", { y: "-100%", duration: 1 }, "-=1");
  },
};
</script>
